# zstuCA 浙江理工大学计算机协会官网

浙江理工大学计算机协会官网及其相关服务.

## 项目文件结构

### server目录

服务器端代码所在目录,为各个开放/私有的服务:

* `database` 数据库初始化以及全局访问服务(内部用,不开放外部接口)
* `email` 邮箱服务(内部用,不开放外部接口)
* `repair` 硬件部维修服务

### webapp目录

前端代码所在目录,为各个网络站点:

* `assets` 资源文件(对每个站点都适用,最外面的assets是主页所使用的)
* `index.html` 主页(对每个站点都适用,此处是整个网站的主页) 
* `Cyber` 密码学工具
* `links` 友链
* `repair` 硬件部维修服务
* `tiku` 入学教育易班题库
* `xuzhi` 新生须知

**注意前端的全局根目录是`static`目录**,即静态网页目录.

`template` 是供服务器的服务所使用的动态网页(网页模板),是因为某些原因,采用前后端不分离的架构所产生的东西.如有需求,可以自行与后端解耦以实现前后端分离.(请注意,发送邮件所使用的页面必须才用动态网页,因为邮件中内嵌js代码会被判定为垃圾邮件甚至直接拒收)

## 项目维护方式介绍

如果直接从github上下载源码,那么需要手动编写根目录下的`conf.json`文件.可根据`defaultConf.json`来编写,但是建议直接联系往届计协部长索取该文件.

如果直接从github上下载源码,那么`repair/assets/js/`下的`bsPannelSwitchDiv.js`、`dealMission.js`、`registerAdmin.js`中，ajax请求后端接口的部分,需要补全`basic auth`的认证信息.该信息可通过使用抓包工具或浏览器观察请求头中的相应属性来获得,也可以自行根据其用户名密码生成(生成方式请自行搜索或者联系往届成员).如果使用以前使用过的文件,那应该无需自行补充.

## 部分服务或站点使用方法介绍

### 硬件部维修预约后台使用方法

#### 注册

一般账号的注册需由根管理员(一般是部长)进行,根管理员登录后台后,导航栏上会显示账号注册的接口("硬件部成员注册").

根管理员(一般是部长)的账号不能直接注册,需要联系软研部相关负责人手动写入数据库.

没有提供找回密码接口,如果忘记密码,请通过硬件部部长联系软研部相关负责人修改密码(只能修改,不能找回).

由于服务器需要迁移,故账号信息每一年将清除一次.如果第二年重新再次加入硬件部,需要重新再次注册账号.

#### 登录

后台的登录地址为:[https://www.zstuca.club/repair/bs](https://www.zstuca.club/repair/bs),如果打不开请使用备用地址:[https://zstuca.geministar.site/repair/bs](https://zstu.geministar.site/repair/bs)

打开后会有弹窗显示,这是第一层账号验证(用于预防恶意请求后台接口),此处的账号和密码是固定的(并不是你注册时所填写的),请联系硬件部部长或计算机协会会长索取.

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027202946491-1771487063.png)

正确输入后将会进入第二层账号验证,此时填写你此前注册的用户名和密码即可.

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027203045893-2077180637.png)

#### 接取任务

在登录后台后,将显示当前所有未被接取的预约任务,可以点击每个任务卡片中的"接取"按钮来接取任务.

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027203721893-1047887932.png)

接取后会向你的邮箱中发送对方的详细信息,同时也会通知对方,请尽快与对方进行联系.

此外,点击上面导航栏的已接取的任务,也可以查看已接取的任务的信息.

#### 完成任务

在完成任务后,登录后台,点击导航栏的"已接取的任务",点击卡片中的的完成按钮,来申报任务完成的信息.(已申报完成的任务默认会隐藏,选中导航栏下方的"显示已完成"复选框后会显示已完成的任务,这些任务下方的按钮会换成问题文字`已完成`)

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027204157239-644680779.png)

手机上通过点击导航栏后侧的三个杠按钮来切换界面:

![img](https://img2023.cnblogs.com/blog/2137098/202309/2137098-20230920223152163-710665376.jpg)

每次任务完成后请及时、完整且尽可能真实地填写相关内容.

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027204257665-538533126.png)

你所填写的内容都将发送给用户核实,请慎重考虑造假填写的后果(当然,并不需要非常精准地填写,只要不造假就行).

#### 放弃任务

如果任务实在无法完成,在与对方充分协商后,可以放弃委托.登录后台,点击导航栏的"已接取的任务",点击卡片中的放弃按钮,来放弃任务完成的信息.请注意,务必在于对方充分协商,确定无法解决后,再放弃委托.(已放弃的任务默认会隐藏,选中导航栏下方的"显示已放弃"复选框后会显示已放弃的任务,这些任务下方的按钮会换成问题文字`已放弃`)

![img](https://img2023.cnblogs.com/blog/2137098/202310/2137098-20231027205056209-68451145.png)

手机上通过点击导航栏后侧的三个杠按钮来切换界面:

![img](https://img2023.cnblogs.com/blog/2137098/202309/2137098-20230920223152163-710665376.jpg)

#### 查询所有委托信息

部长拥有查询所有委托信息(包括委托的详细信息,委托是否以及由谁接取,委托是否完成或放弃等),在登录部长账号后,点击导航栏上的"所有委托信息",即可查看.

默认情况下,已完成和已放弃的委托会隐藏,可选中导航栏下方的复选框来显示他们.
